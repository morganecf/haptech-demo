<!doctype html>
<html>
  <head>
    <title> Chipmunk Hello World </title>
  
  <script src="paper-js/dist/paper-full.min.js"></script>
  <script src="node_modules/chipmunk/cp.min.js"></script>
  <script src="socket.io.js"></script>

  <script type="text/paperscript" canvas="canvas"> 

          // The socket client 
          var socket = io();

          // CONSTANTS 
          var width = window.innerWidth-30;
          var height = window.innerHeight-30;

          // alert(height);
          // alert(width);

          // Make sure the points correspond to CP points 
          var ground_start = new Point(0, height);
          var ground_end = new Point(width, height);
          var circle_start = new Point(width / 2, 20);
          var circle_radius = 10;

          // Create the ground 
          var ground = new Path();
          ground.strokeColor = 'black';
          ground.add(ground_start, ground_end);

          // Create the circle
          var circle = new Path.Circle(circle_start, circle_radius);
          circle.fillColor = 'black';
          // circle.fillColor = {
          //   hue: 60,
          //   saturation: 1,
          //   brightness: 1
          // };
          // circle.strokeColor = 'black';
          // circle.strokeWidth = 5;
          // circle.opacity = 0.7;

          // Tell the backend we are ready to start the simulation
          // and pass any data the simulation might need  
          socket.emit('ready', {height: height, width: width}); 

          // Listen for draw events 
          socket.on('draw', function (pos) {
            var c = new Path.Circle(pos, 5);
            c.fillColor = 'black';

            circle.position = pos; 
            view.draw();
          }); 
      
  </script>

  </head>

  <body>   
      <canvas id="canvas" width="1000" height="1400" keepalive="true"></canvas>
  </body>

  </html>
